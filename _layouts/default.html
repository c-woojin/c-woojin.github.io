<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-933P53HPDC"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-933P53HPDC');
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description }}">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{{ '/assets/images/favicon.ico' | relative_url }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ '/assets/images/favicon-32x32.png' | relative_url }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ '/assets/images/favicon-16x16.png' | relative_url }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/images/apple-touch-icon.png' | relative_url }}">

    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    {% feed_meta %}
    {% seo %}
</head>
<body>
    <header class="site-header">
        <div class="site-header-inner">
            <nav class="site-nav">
                <div class="nav-left">
                    <a href="{{ '/' | relative_url }}">Home</a>
                    <div class="nav-dropdown">
                        <span class="nav-dropdown-toggle">Categories</span>
                        <div class="nav-dropdown-menu">
                            <div class="nav-dropdown-menu-inner">
                                <a href="{{ '/categories/life/' | relative_url }}">Life</a>
                                <a href="{{ '/categories/dev/' | relative_url }}">Dev</a>
                                <a href="{{ '/categories/books/' | relative_url }}">Books</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="nav-right">
                    <a href="{{ '/about' | relative_url }}">About</a>
                </div>
            </nav>
        </div>
    </header>

    <div class="container">
        <main class="content">
            {{ content }}
        </main>

        <footer class="site-footer">
            <div class="visitor-count">
                <span id="goatcounter-visitors"></span>
            </div>
            <p>&copy; {{ 'now' | date: "%Y" }} {{ site.author }}. All rights reserved.</p>
        </footer>
    </div>

    {% if site.goatcounter.code %}
    <!-- GoatCounter -->
    <script data-goatcounter="https://{{ site.goatcounter.code }}.goatcounter.com/count"
            async src="//gc.zgo.at/count.js"></script>
    <script>
        // 방문자 수 표시
        window.addEventListener('load', function() {
            var r = new XMLHttpRequest();
            r.addEventListener('load', function() {
                var data = JSON.parse(this.responseText);
                var el = document.getElementById('goatcounter-visitors');
                if (el && data.count) {
                    el.textContent = 'Total visitors: ' + data.count.toLocaleString();
                }
            });
            r.open('GET', 'https://{{ site.goatcounter.code }}.goatcounter.com/counter/' + encodeURIComponent(location.pathname) + '.json');
            r.send();
        });
    </script>
    {% endif %}
</body>
</html>
